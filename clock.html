<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <title>clock</title>
  <meta name="author" content="forresto">
  <meta name="description" content="time: hours minutes seconds with percentages" />
  
  <script src="http://meemoo.org/meemoo/v1/meemoo-min.js"></script>

  <style type="text/css">
    html, body {
      font-family: Verdana;
      font-size: 15px;
    }
  </style>

</head>
<body>
  
  <div id="info"></div>
  
  <script type="text/javascript">

    var info = document.getElementById("info");

    function sendTime(){
      var d = new Date();
      var hours = d.getHours();
      var minutes = d.getMinutes();
      var seconds = d.getSeconds();

      var secondsPercent = seconds/60;
      var minutesPercent = (minutes+secondsPercent)/60;
      var hoursPercent = (hours%12+minutesPercent)/12;

      info.innerHTML = hours + "h " + minutes + "m " + seconds + "s";

      Meemoo.send("bang", "!");
      Meemoo.send("hours", hours);
      Meemoo.send("hoursPercent", hoursPercent);
      Meemoo.send("minutes", minutes);
      Meemoo.send("minutesPercent", minutesPercent);
      Meemoo.send("seconds", seconds);
      Meemoo.send("secondsPercent", secondsPercent);
    }

    window.setInterval(sendTime, 1000);
        
    Meemoo.setInfo({
      title: "clock",
      author: "forresto",
      description: "time: hours minutes seconds with percentages"
    }).addInputs({
    }).addOutputs({
      bang: { 
        type: "bang"
      },
      hours: { 
        type: "int"
      },
      hoursPercent: { 
        type: "float"
      },
      minutes: { 
        type: "int"
      },
      minutesPercent: { 
        type: "float"
      },
      seconds: { 
        type: "int"
      },
      secondsPercent: { 
        type: "float"
      }
    });
  
  </script>
  
</body>
</html>
